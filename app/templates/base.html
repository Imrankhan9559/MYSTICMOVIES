<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MysticMovies</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" />
    {% set _site = site if site else None %}
    {% set accent = _site.accent_color if _site else '#facc15' %}
    {% set bg = _site.bg_color if _site else '#070b12' %}
    {% set card = _site.card_color if _site else '#111827' %}
    <style>
        :root {
            color-scheme: dark;
        }
        * {
            box-sizing: border-box;
        }
        body {
            font-family: "Poppins", "Segoe UI", sans-serif;
            min-height: 100dvh;
            background:
                radial-gradient(circle at 12% 8%, rgba(250, 204, 21, 0.08), transparent 32%),
                radial-gradient(circle at 86% 24%, rgba(245, 158, 11, 0.07), transparent 34%),
                {{ bg }};
        }
        .brand-glow {
            text-shadow: 0 0 18px rgba(250, 204, 21, 0.25);
        }
        .fade-in-up {
            animation: fadeInUp 0.55s ease both;
        }
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(12px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #0f172a;
        }
        ::-webkit-scrollbar-thumb {
            background: #475569;
            border-radius: 999px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: {{ accent }};
        }
    </style>
</head>
<body class="text-gray-100">
    <header class="sticky top-0 z-50 border-b border-yellow-600/20 bg-black/80 backdrop-blur-xl">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 py-3 flex items-center justify-between gap-4">
            <a href="/" class="flex items-center gap-2 font-extrabold tracking-wide">
                <span class="text-white text-xl sm:text-2xl">{{ (_site.site_name or 'Mystic') if _site else 'Mystic' }}</span>
                <span class="text-yellow-400 text-xl sm:text-2xl brand-glow">{{ 'Movies' if _site else 'Movies' }}</span>
            </a>
            <nav class="hidden md:flex items-center gap-5 text-sm">
                <a href="/" class="text-gray-300 hover:text-yellow-300 transition">Home</a>
                <a href="/content" class="text-gray-300 hover:text-yellow-300 transition">Content</a>
                <a href="/content/movies" class="text-gray-300 hover:text-yellow-300 transition">Movies</a>
                <a href="/content/web-series" class="text-gray-300 hover:text-yellow-300 transition">Web Series</a>
                <a href="/dashboard" class="text-gray-300 hover:text-yellow-300 transition">Storage</a>
                {% if is_admin %}
                <a href="/admin" class="text-gray-300 hover:text-yellow-300 transition">Admin</a>
                {% endif %}
            </nav>
            <div class="flex items-center gap-2 sm:gap-3">
                {% if user %}
                <a href="/content/watchlist" class="hidden sm:inline-flex px-4 py-2 rounded-full border border-gray-700 text-gray-200 hover:border-yellow-500 hover:text-yellow-300 transition text-xs sm:text-sm">
                    Watchlist
                </a>
                <a href="/profile" class="inline-flex items-center gap-2 px-3 py-2 rounded-full bg-gray-900 border border-gray-700 hover:border-yellow-500 transition">
                    <i class="fas fa-user text-yellow-400"></i>
                    <span class="text-xs sm:text-sm">{{ user.first_name or "Profile" }}</span>
                </a>
                {% else %}
                <a href="/login" class="px-4 py-2 rounded-full bg-yellow-400 text-black font-bold text-xs sm:text-sm hover:bg-yellow-300 transition">Login</a>
                <a href="/register" class="px-4 py-2 rounded-full border border-gray-700 text-gray-100 text-xs sm:text-sm hover:border-yellow-500 hover:text-yellow-300 transition">Create Account</a>
                {% endif %}
            </div>
        </div>
    </header>

    <main class="max-w-7xl mx-auto px-4 sm:px-6 py-6 sm:py-8 fade-in-up">
        {% block content %}{% endblock %}
    </main>

    <footer class="mt-12 border-t border-gray-900 bg-black/60">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 py-6 text-xs text-gray-500 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2">
            <div>Â© 2026 {{ _site.footer_text if _site else 'MysticMovies' }}. Stream. Download. Telegram.</div>
            <div class="flex items-center gap-3">
                <a href="/content" class="hover:text-yellow-300 transition">Content</a>
                <a href="/dashboard" class="hover:text-yellow-300 transition">Storage</a>
                {% if is_admin %}<a href="/admin" class="hover:text-yellow-300 transition">Admin</a>{% endif %}
            </div>
        </div>
    </footer>
</body>
</html>
